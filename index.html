<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Proassets Production</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: radial-gradient(circle at top, #4b3fff, #050515);
      color: #fff;
    }
    a { color: inherit; text-decoration: none; }

    header.nav {
      position: sticky;
      top: 0;
      z-index: 10;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0.8rem 1.2rem;
      background: rgba(5,5,21,0.9);
      backdrop-filter: blur(18px);
    }
    .logo { font-weight: 700; font-size: 1rem; }

    .nav-buttons button {
      background: transparent;
      border: none;
      color: #ddd;
      font-size: 0.85rem;
      margin-left: 0.5rem;
      cursor: pointer;
    }
    .nav-buttons button:hover { color: #fff; }

    main {
      max-width: 1000px;
      margin: 2.5rem auto 4rem;
      padding: 0 1.2rem;
    }

    .view { display: none; }
    .view.active { display: block; }

    .hero { text-align: center; margin-bottom: 2rem; }
    .hero h1 { font-size: 2rem; margin-bottom: 0.4rem; }
    .hero p { opacity: 0.85; margin-bottom: 0.8rem; }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.2rem 0.8rem;
      border-radius: 999px;
      background: rgba(0,0,0,0.45);
      font-size: 0.8rem;
      opacity: 0.9;
      margin-bottom: 0.6rem;
    }

    .grid { display: grid; gap: 1rem; }
    @media (min-width: 720px) {
      .grid-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
      .grid-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    }

    .card {
      background: rgba(255,255,255,0.06);
      border-radius: 1.2rem;
      padding: 1.2rem;
      backdrop-filter: blur(14px);
      box-shadow: 0 18px 45px rgba(0,0,0,0.6);
    }
    .card h3 { margin-bottom: 0.4rem; }
    .muted { font-size: 0.85rem; opacity: 0.8; }

    .btn {
      display: inline-block;
      width: 100%;
      margin-top: 0.8rem;
      padding: 0.6rem 1rem;
      border-radius: 999px;
      border: none;
      font-weight: 600;
      font-size: 0.9rem;
      cursor: pointer;
      background: linear-gradient(135deg, #7c3aed, #22d3ee);
      color: #050515;
      text-align: center;
    }
    .btn.secondary {
      background: transparent;
      border: 1px solid rgba(255,255,255,0.4);
      color: #fff;
    }
    .btn.inline { width: auto; padding-inline: 1.2rem; }

    input {
      width: 100%;
      padding: 0.55rem 0.8rem;
      margin-top: 0.45rem;
      border-radius: 0.9rem;
      border: 1px solid rgba(255,255,255,0.2);
      background: rgba(0,0,0,0.35);
      color: #fff;
      font-size: 0.9rem;
    }
    input::placeholder { color: rgba(255,255,255,0.6); }
    label { font-size: 0.8rem; opacity: 0.9; margin-top: 0.7rem; display: block; }

    .section-title {
      font-size: 1.2rem;
      margin: 1.5rem 0 0.8rem;
    }

    .small { font-size: 0.8rem; opacity: 0.8; }

    footer {
      text-align: center;
      font-size: 0.8rem;
      opacity: 0.7;
      padding: 1.5rem 0 2.5rem;
    }

    .wa-float {
      position: fixed;
      right: 1.2rem;
      bottom: 1.2rem;
      background: #25d366;
      color: #050515;
      padding: 0.6rem 1rem;
      border-radius: 999px;
      font-size: 0.85rem;
      text-decoration: none;
      font-weight: 600;
      box-shadow: 0 8px 25px rgba(0,0,0,0.4);
    }

    ul { padding-left: 1.2rem; margin-top: 0.4rem; }
    ul li { font-size: 0.85rem; margin-bottom: 0.3rem; }

    .tag {
      display: inline-block;
      padding: 0.12rem 0.5rem;
      border-radius: 999px;
      background: rgba(255,255,255,0.12);
      font-size: 0.75rem;
      margin-top: 0.2rem;
      margin-right: 0.2rem;
    }
    .highlight { color: #a5b4ff; font-weight: 600; }
    .alert {
      font-size: 0.8rem;
      margin-top: 0.4rem;
      padding: 0.4rem 0.6rem;
      border-radius: 0.8rem;
      background: rgba(34,211,238,0.15);
      border: 1px solid rgba(34,211,238,0.7);
    }
    .danger {
      background: rgba(248,113,113,0.18);
      border-color: rgba(248,113,113,0.8);
    }
  </style>
</head>
<body>

<header class="nav">
  <div class="logo">Proassets Production</div>
  <div class="nav-buttons">
    <button data-view="home">Home</button>
    <button data-view="services">Services</button>
    <button data-view="materials">Materials</button>
    <button data-view="dashboard">Dashboard</button>
    <button id="authBtn">Login / Signup</button>
  </div>
</header>

<main>
  <!-- HOME -->
  <section id="view-home" class="view active">
    <div class="hero">
      <div class="badge">
        <span>‚≠ê 4.9/5 rated</span>
        <span>2,800+ projects edited</span>
      </div>
      <h1>All-in-One Digital Creation Partner</h1>
      <p>Video Editing ‚Ä¢ Material Packs ‚Ä¢ Website Builder ‚Ä¢ AI Assistant</p>
      <button class="btn inline" data-view="services">View Services</button>
      <button class="btn inline secondary" data-view="auth">Login / Signup</button>
    </div>
    <h2 class="section-title">Why creators choose Proassets</h2>
    <div class="grid grid-2">
      <div class="card">
        <h3>Fast Delivery</h3>
        <p class="muted">Reels & Shorts delivered in 24‚Äì48 hours for regular clients.</p>
      </div>
      <div class="card">
        <h3>First-Time Mega Offer</h3>
        <p class="muted">
          Your <span class="highlight">first Reel & Short at ‚Çπ1</span> and
          <span class="highlight">50% off</span> other edits, only on first order after signup.
        </p>
      </div>
      <div class="card">
        <h3>Real Assets</h3>
        <p class="muted">Free & Pro LUTs, transitions, overlays and SFX packs.</p>
      </div>
      <div class="card">
        <h3>AI + Websites</h3>
        <p class="muted">AI callers & done-for-you websites to grow your brand.</p>
      </div>
    </div>
  </section>

  <!-- AUTH -->
  <section id="view-auth" class="view">
    <h2 class="section-title" id="authTitle">Login</h2>
    <div class="card">
      <label id="nameLabel" style="display:none;">Name
        <input id="authName" placeholder="Your name" />
      </label>
      <label>Email
        <input id="authEmail" type="email" placeholder="you@example.com" />
      </label>
      <label>Password
        <input id="authPassword" type="password" placeholder="Min. 4 characters" />
      </label>
      <button class="btn" id="authActionBtn">Login</button>
      <p class="small" id="authToggleText"></p>
      <p class="small muted">Login is stored in this browser and synced to Supabase.</p>
    </div>
  </section>

  <!-- SERVICES -->
  <section id="view-services" class="view">
    <h2 class="section-title">Services & Pricing</h2>
    <p class="small">
      If you are logged in and intro offer not used yet, Reel & Shorts will be ‚Çπ10,
      and YouTube/Doc will be 50% OFF on your first order.
    </p>
    <div id="introOfferBanner" class="alert" style="display:none;">
      üéÅ Intro offer available on your next order.
    </div>
    <div id="introUsedBanner" class="alert danger" style="display:none;">
      Intro offer already used. Regular prices apply.
    </div>

    <h3 class="section-title">Video Editing</h3>
    <div class="grid grid-2">
      <div class="card">
        <h3>Reel Edit</h3>
        <p class="muted">Vertical edit for Instagram Reels.</p>
        <p class="small"><b>Regular:</b> ‚Çπ250 ¬∑ <b>First-time:</b> ‚Çπ10</p>
        <button class="btn" onclick="pay('reel')">Order Reel</button>
      </div>
      <div class="card">
        <h3>Shorts Edit</h3>
        <p class="muted">YouTube Shorts / Facebook Reels.</p>
        <p class="small"><b>Regular:</b> ‚Çπ350 ¬∑ <b>First-time:</b> ‚Çπ10</p>
        <button class="btn" onclick="pay('shorts')">Order Shorts</button>
      </div>
      <div class="card">
        <h3>YouTube Video</h3>
        <p class="muted">Full-length YouTube edit.</p>
        <p class="small"><b>Regular:</b> ‚Çπ1000 ¬∑ <b>First-time:</b> ‚Çπ500</p>
        <button class="btn" onclick="pay('yt')">Order YouTube Video</button>
      </div>
      <div class="card">
        <h3>Documentary Edit</h3>
        <p class="muted">Long-form storytelling.</p>
        <p class="small"><b>Regular:</b> ‚Çπ1550 ¬∑ <b>First-time:</b> ‚Çπ775</p>
        <button class="btn" onclick="pay('doc')">Order Documentary</button>
      </div>
    </div>

    <h3 class="section-title">AI Assistant & Calling Agent</h3>
    <div class="grid grid-2">
      <div class="card">
        <h3>AI Assistant</h3>
        <p class="muted">Handles FAQs & support.</p>
        <p class="small"><b>‚Çπ999 / month</b></p>
        <button class="btn" onclick="pay('ai_normal')">Subscribe AI Assistant</button>
      </div>
      <div class="card">
        <h3>AI Selling / Calling Agent</h3>
        <p class="muted">Does sales calls & follow-ups.</p>
        <p class="small"><b>‚Çπ1999 / month</b></p>
        <button class="btn" onclick="pay('ai_premium')">Subscribe AI Agent</button>
      </div>
    </div>

    <h3 class="section-title">Website Builder</h3>
    <div class="grid grid-3">
      <div class="card">
        <h3>Basic Site</h3>
        <p class="muted">Single-page website.</p>
        <p class="small"><b>‚Çπ2999 (one-time)</b></p>
        <button class="btn" onclick="pay('web_basic')">Order Basic Site</button>
      </div>
      <div class="card">
        <h3>Standard Site</h3>
        <p class="muted">Up to 4 pages.</p>
        <p class="small"><b>‚Çπ5999 (one-time)</b></p>
        <button class="btn" onclick="pay('web_standard')">Order Standard Site</button>
      </div>
      <div class="card">
        <h3>Premium Site</h3>
        <p class="muted">Up to 8 pages + blog.</p>
        <p class="small"><b>‚Çπ9999 (one-time)</b></p>
        <button class="btn" onclick="pay('web_premium')">Order Premium Site</button>
      </div>
    </div>
  </section>

  <!-- MATERIALS -->
  <section id="view-materials" class="view">
    <h2 class="section-title">Material for Editing ‚Äì Assets</h2>
    <p class="small">Free pack + subscription packs. After subscribing, asset links will appear in your Dashboard.</p>
    <div class="grid grid-2">
      <div class="card">
        <h3>Free Essentials Pack</h3>
        <span class="tag">FREE</span>
        <p class="muted">Basic LUTs, transitions & lower-thirds.</p>
        <ul>
          <li>3 LUTs (vlog, cinematic, warm)</li>
          <li>5 simple transitions</li>
          <li>5 lower-third PNGs</li>
        </ul>
        <!-- TODO: replace this with your real Drive link -->
        <button class="btn secondary" onclick="window.open('https://example.com/free-pack','_blank')">
          Download Free Pack
        </button>
      </div>

      <div class="card">
        <h3>Starter Pack</h3>
        <span class="tag">‚Çπ299 / month</span>
        <p class="muted">Ideal for weekly creators.</p>
        <ul>
          <li>10 LUTs</li>
          <li>15 transitions</li>
          <li>Starter SFX</li>
        </ul>
        <button class="btn" onclick="subscribeMaterial('starter')">Subscribe Starter</button>
      </div>

      <div class="card">
        <h3>Pro Pack</h3>
        <span class="tag">‚Çπ499 / month</span>
        <p class="muted">For editors with multiple clients.</p>
        <ul>
          <li>25+ LUTs</li>
          <li>30+ transitions</li>
          <li>Full SFX & overlay pack</li>
        </ul>
        <button class="btn" onclick="subscribeMaterial('pro')">Subscribe Pro</button>
      </div>
    </div>
  </section>

  <!-- DASHBOARD -->
  <section id="view-dashboard" class="view">
    <h2 class="section-title">My Dashboard</h2>
    <div class="card">
      <p id="dashWelcome" class="muted">Please login to view dashboard.</p>
      <div id="dashContent" style="display:none;">
        <p class="small"><b>Email:</b> <span id="dashEmail"></span></p>
        <p class="small"><b>Intro offer status:</b> <span id="dashOffer"></span></p>
        <p class="small"><b>Material Subscription:</b> <span id="dashMaterial"></span></p>

        <h3 class="section-title">My Orders (local copy)</h3>
        <ul id="orderList"></ul>

        <h3 class="section-title">My Asset Downloads</h3>
        <ul id="assetList"></ul>

        <p class="small muted">
          Orders are also saved in Supabase with your email.
          Check Razorpay dashboard for full payment details.
        </p>
      </div>
    </div>
  </section>
</main>

<a class="wa-float" href="https://wa.me/917355969446" target="_blank">WhatsApp Chat</a>
<footer>
  <p>Email: <b>shikhartraders@zohomail.com</b> ¬∑ WhatsApp / SMS: <b>+91 7355969446</b></p>
  <p>¬© 2025 Proassets Production. All rights reserved.</p>
</footer>

<!-- Supabase + Razorpay scripts -->
<script src="https://unpkg.com/@supabase/supabase-js@2"></script>
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>

<script>
  // ===== YOUR KEYS (safe for frontend) =====
  const SUPABASE_URL = "https://xmiehetlqkfdsflljwfe.supabase.co";
  const SUPABASE_ANON_KEY =
    "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhtaWVoZXRscWtmZHNmbGxqd2ZlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5MTc5NjEsImV4cCI6MjA3OTQ5Mzk2MX0.dY_MBZ6wxv-GKc-DddGI8MdZ7CHfISFGhzGClIiRj-g";
  const RAZORPAY_KEY_ID = "rzp_live_RjP2xJpRnc6Blt";

  // ===== Supabase init =====
  const supabaseClient = window.supabase.createClient(
    SUPABASE_URL,
    SUPABASE_ANON_KEY
  );

  async function sendUserToSupabase(user) {
    try {
      const result = await supabaseClient
        .from("customers")
        .upsert(
          {
            email: user.email,
            name: user.name,
            used_intro_offer: user.usedIntroOffer,
            material_access: user.materialAccess
          },
          { onConflict: "email" }
        );
      if (result.error) console.error("Supabase user error:", result.error);
    } catch (e) {
      console.error("Supabase user exception:", e);
    }
  }

  async function sendOrderToSupabase(user, serviceKey, label, amount, paymentId) {
    if (!user) return;
    try {
      const result = await supabaseClient
        .from("orders")
        .insert({
          email: user.email,
          service_key: serviceKey,
          label: label,
          amount: amount,
          razorpay_payment_id: paymentId
        });
      if (result.error) console.error("Supabase order error:", result.error);
    } catch (e) {
      console.error("Supabase order exception:", e);
    }
  }

  // ===== local user state (browser) =====
  function getUser() {
    const raw = localStorage.getItem("proassets_user");
    return raw ? JSON.parse(raw) : null;
  }
  function saveUser(u) {
    localStorage.setItem("proassets_user", JSON.stringify(u));
  }
  function addOrderLocal(serviceKey, label, amount, paymentId) {
    const u = getUser();
    if (!u) return;
    if (!u.orders) u.orders = [];
    u.orders.push({
      serviceKey: serviceKey,
      label: label,
      amount: amount,
      paymentId: paymentId,
      date: new Date().toLocaleString()
    });
    saveUser(u);
  }

  // ===== view switching =====
  const views = {
    home: document.getElementById("view-home"),
    auth: document.getElementById("view-auth"),
    services: document.getElementById("view-services"),
    materials: document.getElementById("view-materials"),
    dashboard: document.getElementById("view-dashboard")
  };

  function showView(name) {
    for (var key in views) {
      if (views.hasOwnProperty(key)) {
        views[key].classList.remove("active");
      }
    }
    if (views[name]) views[name].classList.add("active");
    if (name === "dashboard") renderDashboard();
    if (name === "services") updateIntroOfferBanner();
  }

  var navButtons = document.querySelectorAll("[data-view]");
  for (var i = 0; i < navButtons.length; i++) {
    navButtons[i].addEventListener("click", function () {
      var v = this.getAttribute("data-view");
      if (v === "auth") showAuthMode("login");
      showView(v);
    });
  }

  // ===== auth =====
  var authBtn = document.getElementById("authBtn");
  var authTitle = document.getElementById("authTitle");
  var nameLabel = document.getElementById("nameLabel");
  var authName = document.getElementById("authName");
  var authEmail = document.getElementById("authEmail");
  var authPassword = document.getElementById("authPassword");
  var authActionBtn = document.getElementById("authActionBtn");
  var authToggleText = document.getElementById("authToggleText");
  var authMode = "login";

  function refreshAuthButton() {
    var u = getUser();
    authBtn.textContent = u ? "Logout" : "Login / Signup";
  }

  authBtn.addEventListener("click", function () {
    var u = getUser();
    if (u) {
      if (confirm("Logout from this device?")) {
        localStorage.removeItem("proassets_user");
        refreshAuthButton();
        showView("home");
      }
    } else {
      showAuthMode("login");
      showView("auth");
    }
  });

  function showAuthMode(mode) {
    authMode = mode;
    if (mode === "login") {
      authTitle.textContent = "Login";
      nameLabel.style.display = "none";
      authActionBtn.textContent = "Login";
      authToggleText.innerHTML =
        'New here? <a href="#" onclick="showAuthMode(\'signup\');return false;">Create an account</a>';
    } else {
      authTitle.textContent = "Signup";
      nameLabel.style.display = "block";
      authActionBtn.textContent = "Signup";
      authToggleText.innerHTML =
        'Already have an account? <a href="#" onclick="showAuthMode(\'login\');return false;">Login here</a>';
    }
  }

  authActionBtn.addEventListener("click", function () {
    var email = authEmail.value.trim();
    var pass = authPassword.value.trim();
    if (!email || !pass) {
      alert("Please fill email and password");
      return;
    }
    if (authMode === "signup") {
      var name = authName.value.trim();
      if (!name) {
        alert("Please enter your name");
        return;
      }
      var user = {
        name: name,
        email: email,
        password: pass,
        usedIntroOffer: false,
        materialAccess: "none",
        orders: []
      };
      saveUser(user);
      sendUserToSupabase(user);
      alert("Account created. Intro offer will apply on your first order.");
      refreshAuthButton();
      showView("services");
      updateIntroOfferBanner();
    } else {
      var u = getUser();
      if (!u || u.email !== email || u.password !== pass) {
        alert("Wrong email or password (stored only in this browser).");
        return;
      }
      alert("Logged in.");
      refreshAuthButton();
      showView("services");
      updateIntroOfferBanner();
    }
  });

  // ===== intro offer banners =====
  var introOfferBanner = document.getElementById("introOfferBanner");
  var introUsedBanner = document.getElementById("introUsedBanner");

  function updateIntroOfferBanner() {
    var u = getUser();
    if (!u) {
      introOfferBanner.style.display = "none";
      introUsedBanner.style.display = "none";
      return;
    }
    if (u.usedIntroOffer) {
      introOfferBanner.style.display = "none";
      introUsedBanner.style.display = "block";
    } else {
      introOfferBanner.style.display = "block";
      introUsedBanner.style.display = "none";
    }
  }

  // ===== services meta =====
  var SERVICE_META = {
    reel:            { label: "Reel Edit",            regular: 250,  first: 10,    category: "editing" },
    shorts:          { label: "Shorts Edit",          regular: 350,  first: 10,    category: "editing" },
    yt:              { label: "YouTube Video Edit",   regular: 1000, first: 500,  category: "editing" },
    doc:             { label: "Documentary Edit",     regular: 1550, first: 775,  category: "editing" },
    materials_basic: { label: "Materials Starter",    regular: 299,               category: "materials" },
    materials_pro:   { label: "Materials Pro",        regular: 499,               category: "materials" },
    ai_normal:       { label: "AI Assistant",         regular: 999,               category: "ai" },
    ai_premium:      { label: "AI Calling Agent",     regular: 1999,              category: "ai" },
    web_basic:       { label: "Website Basic",        regular: 2999,              category: "web" },
    web_standard:    { label: "Website Standard",     regular: 5999,              category: "web" },
    web_premium:     { label: "Website Premium",      regular: 9999,              category: "web" }
  };

  // ===== Razorpay payment =====
  function pay(serviceKey) {
    var u = getUser();
    if (!u) {
      alert("Please signup / login first.");
      showAuthMode("signup");
      showView("auth");
      return;
    }

    var meta = SERVICE_META[serviceKey];
    if (!meta) {
      alert("Service not configured.");
      return;
    }

    var amount = meta.regular;
    var usedIntroThisTime = false;

    var isEditing = meta.category === "editing";
    if (!u.usedIntroOffer && isEditing && meta.first != null) {
      amount = meta.first;
      usedIntroThisTime = true;
    }

    var options = {
      key: RAZORPAY_KEY_ID,
      amount: amount * 100,
      currency: "INR",
      name: "Proassets Production",
      description: meta.label,
      handler: function (response) {
        var paymentId = response.razorpay_payment_id;
        addOrderLocal(serviceKey, meta.label, amount, paymentId);
        sendOrderToSupabase(u, serviceKey, meta.label, amount, paymentId);
        if (usedIntroThisTime) {
          u.usedIntroOffer = true;
          saveUser(u);
          sendUserToSupabase(u);
        }
        updateIntroOfferBanner();
        alert("Payment successful! ID: " + paymentId + ". We'll contact you by email/WhatsApp.");
      },
      prefill: {
        name: u.name || "",
        email: u.email || ""
      },
      notes: {
        service_key: serviceKey
      },
      theme: { color: "#7c3aed" }
    };

    var rzp = new Razorpay(options);
rzp.on("payment.failed", function (resp) {
  console.error("Razorpay payment failed:", resp);

  var msg = "Payment failed.\n\n";

  if (resp.error && resp.error.description) {
    msg += "Reason: " + resp.error.description + "\n";
  }
  if (resp.error && resp.error.code) {
    msg += "Code: " + resp.error.code + "\n";
  }
  if (resp.error && resp.error.reason) {
    msg += "Details: " + resp.error.reason + "\n";
  }

  msg += "\nIf money is debited, it will be auto-refunded by Razorpay.";
  alert(msg);
});
rzp.open();
  }

  // ===== material subscription =====
  function subscribeMaterial(type) {
    var u = getUser();
    if (!u) {
      alert("Please login first.");
      showAuthMode("login");
      showView("auth");
      return;
    }
    if (type === "starter") {
      pay("materials_basic");
      u.materialAccess = "starter";
    } else if (type === "pro") {
      pay("materials_pro");
      u.materialAccess = "pro";
    }
    saveUser(u);
    sendUserToSupabase(u);
    renderDashboard();
  }

  // ===== dashboard =====
  var dashWelcome  = document.getElementById("dashWelcome");
  var dashContent  = document.getElementById("dashContent");
  var dashEmail    = document.getElementById("dashEmail");
  var dashOffer    = document.getElementById("dashOffer");
  var dashMaterial = document.getElementById("dashMaterial");
  var orderList    = document.getElementById("orderList");
  var assetList    = document.getElementById("assetList");

  function renderDashboard() {
    var u = getUser();
    if (!u) {
      dashWelcome.textContent = "Please login to view dashboard.";
      dashContent.style.display = "none";
      return;
    }
    dashWelcome.textContent = "Welcome, " + (u.name || u.email);
    dashContent.style.display = "block";

    dashEmail.textContent = u.email;
    dashOffer.textContent = u.usedIntroOffer ? "Used" : "Available";

    if (u.materialAccess === "starter") {
      dashMaterial.textContent = "Starter Pack";
    } else if (u.materialAccess === "pro") {
      dashMaterial.textContent = "Pro Pack";
    } else {
      dashMaterial.textContent = "None";
    }

    orderList.innerHTML = "";
    var orders = u.orders || [];
    for (var i = 0; i < orders.length; i++) {
      var o = orders[i];
      var li = document.createElement("li");
      li.textContent = o.label + " ‚Äì ‚Çπ" + o.amount + " ‚Äì " + o.date + " ‚Äì " + (o.paymentId || "");
      orderList.appendChild(li);
    }

    assetList.innerHTML = "";
    assetList.innerHTML +=
      "<li><a href='https://example.com/free-pack' target='_blank'>Free Essentials Pack</a></li>";
    if (u.materialAccess === "starter" || u.materialAccess === "pro") {
      assetList.innerHTML += "<li>Starter Pack assets ‚Äì link will be shared on email/WhatsApp.</li>";
    }
    if (u.materialAccess === "pro") {
      assetList.innerHTML += "<li>Pro Pack assets ‚Äì link will be shared on email/WhatsApp.</li>";
    }
  }

  // ===== init =====
  refreshAuthButton();
  updateIntroOfferBanner();
</script>
</body>
</html>
